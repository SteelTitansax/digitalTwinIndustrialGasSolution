{% extends 'base.html' %}
{% load static %}


{% block content %}
<div class="container-fluid vh-100">
  <div class="row h-100">
    <!-- Form -->
    <div class="col-6">
        <h4 class="design-input-form">Design Parameters</h4>
          <form method="POST" action="{% url 'distillator_column' %}">
              {% csrf_token %}
              {% if distillator_parameters %}

              <!-- Initial Pressure -->
              <div class="mb-3">
                  <label for="P_in" class="form-label">Initial Pressure</label>
                  <input type="number" step="any" class="form-control" id="P_in" name="P_in" placeholder="{{distillator_parameters.P_in}} Pa">
              </div>

              <!-- Initial Temperature -->
              <div class="mb-3">
                  <label for="T_in" class="form-label">Initial Temperature</label>
                  <input type="number" step="any" class="form-control" id="T_in" name="T_in" placeholder="{{distillator_parameters.T_in}} K">
              </div>

              <!-- N2 Concentration -->
              <div class="mb-3">
                  <label for="N2" class="form-label">N2 Concentration</label>
                  <input type="number" step="any" class="form-control" id="N2" name="N2" placeholder="{{distillator_parameters.N2_out}} %">
              </div>

              <!-- H2 Concentration -->
              <div class="mb-3">
                  <label for="H2" class="form-label">H2 Concentration</label>
                  <input type="number" step="any" class="form-control" id="H2" name="H2" placeholder="{{distillator_parameters.H2_out}} %">
              </div>

              <!-- O2 Concentration -->
              <div class="mb-3">
                  <label for="O2" class="form-label">O2 Concentration</label>
                  <input type="number" step="any" class="form-control" id="O2" name="O2" placeholder="{{distillator_parameters.O2_out}} %">
              </div>

              <!-- Efficiency -->
              <div class="mb-3">
                  <label for="efficiency" class="form-label">Efficiency</label>
                  <input type="number" step="any" class="form-control" id="efficiency" name="efficiency" placeholder="{{distillator_parameters.Efficiency}} %">
              </div>


              <div class="text-center ">
                  <button type="submit" class="btn btn-primary w-50 mt-2">Recalculate</button>
                  <button id = "publish" type="submit" class="btn btn-success width-45 mt-2">Publish</button>
              </div>
          </form>
        {% endif%}   

        <p class="notes"><strong>Output parameters: </strong>The inputs on this screen define the operating conditions for the distillation column design calculation.
                        'P_in' and 'T_in' are the initial pressure and temperature of the feed.
                        'Flow Rate', 'Energy Consumed', and 'Efficiency' describe the process and energy performance.
                        These values are used to predict the output composition of N2, O2, and Ar from the column.</p>
    </div>

    <!-- Images/3D representation -->

    <div class="col-6 d-flex flex-column h-100 p-0">
      <div id="distillationColumn" style="width: 100%; height: 700px;"></div>  
    </div>
  </div>
</div>
{% endblock %}


{% block scripts %}
<script src="{% static 'js/distillation_column.js' %}"></script>
{% endblock %}